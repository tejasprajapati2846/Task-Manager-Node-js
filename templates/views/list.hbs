{{> header}}

<h1 class="text-3xl font-bold mb-4 text-center">{{title}}</h1>
<div class="bg-white rounded-lg shadow-md p-6 max-w-2xl mx-auto">
    {{#if taskList.length}}
    <div class="space-y-4">
        {{#each taskList}}
        <div class="border border-gray-300 rounded-lg overflow-hidden">
            <div class="flex justify-between items-center p-4 bg-gray-100 hover:bg-gray-200 cursor-pointer"
                onclick="toggleAccordion(this)">
                <div class="flex space-x-4 items-center">
                    <i class="fas fa-chevron-down text-gray-500 text-lg transition-transform duration-300"></i>
                    <span class="font-semibold">{{this.title}} - <span
                            class="text-sm text-gray-500">{{this.formattedDate}}</span></span>
                </div>
                <div class="flex space-x-6 items-center">
                    <a href="/edit/{{this._id}}" class="text-blue-500 hover:text-blue-700">
                        <i class="fas fa-edit text-lg"></i>
                    </a>
                    <form action="/tasks/delete/{{this._id}}" method="POST" class="inline">
                        <button type="submit" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash text-lg"></i>
                        </button>
                    </form>
                </div>
            </div>
            <div class="p-4 hidden">
                <p class="text-gray-700">{{this.description}}</p>
            </div>
        </div>
        {{/each}}
    </div>
    {{else}}
    <p class="text-gray-500 text-center">No tasks added yet!</p>
    {{/if}}
</div>

<script>
    function toggleAccordion(element) {
        let content = element.nextElementSibling;
        let icon = element.querySelector("i.fas");
        content.classList.toggle("hidden");
        icon.classList.toggle("rotate-180");
    }
</script>

{{> footer}}